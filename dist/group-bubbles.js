!function(t){var r={};function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)n.d(e,a,function(r){return t[r]}.bind(null,a));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=55)}({55:function(t,r){$(document).ready((function(){$.post("/bubblesData",(function(t){t.forEach((function(r,n,e){(!r.year||r.pageAmount<0)&&t.splice(n+0,1)})),t=t.sort((function(t,r){if(t.year&&r.year)return(t.year>r.year)-(t.year<r.year)}));var r=[];r[0]={year:t[0].year,pages:0,points:0},t.forEach((function(t){t.pageAmount<0&&(t.pageAmount=0);var n=r.length-1;r[n].year===t.year?(r[n].pages+=t.pageAmount,r[n].points+=t.points):r.push({year:t.year,pages:t.pageAmount,points:t.points})})),t,$buttonHost=$("#genPdfBtn").parent(),$buttonHost.append("<button class='btn line-btn' onclick='showOverlayWrapper()'>"+jsStrings.ministerial_points+"</button>"),function(t){var r=d3.select("#svg-port"),e=parseInt(r.style("width").replace("px",""))-96,a=parseInt(r.style("height").replace("px","")),o=.85*a,i=0,u=t.map((function(t){return i+=Math.sqrt(t.pages),Math.sqrt(t.points),t.year})),s=[];t.forEach((function(t){s.push(Math.sqrt(t.pages)/i*Math.min(e,o)*.8)}));var c=[];t.forEach((function(t){c.push(t.points)}));var l=[];s.forEach((function(t,r){l.push(0);for(var n=0;n<r;)l[l.length-1]+=2*s[n],n++;l[l.length-1]+=t}));var p=d3.scaleOrdinal().domain(u).range(l),f=d3.tip().attr("class","d3-tip").html((function(r,n){return jsStrings.vis.year[1]+": "+u[n]+"<br>"+jsStrings.vis.page.many+": "+t[n].pages}));r.call(f);var d=d3.tip().attr("class","d3-tip").html((function(r,n){return jsStrings.vis.year[1]+": "+u[n]+"<br>"+jsStrings.vis.ministerial_score+": "+t[n].points}));r.call(d);var y=[],h=[],m=[],g=[],v=[],b=[];u.forEach((function(t,r){v.push(u[r]),b.push(l[r]),r%2==0?(y.push(t),h.push(l[r])):(m.push(t),g.push(l[r]))}));var x=d3.axisTop(d3.scaleOrdinal().range(g).domain(m)).tickFormat((function(t,r){return g[r]-g[r-1]<12?"":t})),j=d3.axisBottom(d3.scaleOrdinal().range(h).domain(y)).tickFormat((function(t,r){return h[r]-h[r-1]<10?"":t})),O=d3.axisBottom(d3.scaleOrdinal().range(b).domain(v)).tickFormat((function(t,r){return b[r]-b[r-1]<10?"":t}));r.append("g").call(x).attr("transform","translate("+[20,20]+")"),r.append("g").call(j).attr("transform","translate("+[20,o-20]+")"),r.append("g").call(O).attr("transform","translate("+[20,a-20]+")"),r.append("g").selectAll("line").data(l).enter().append("line").attr("transform","translate("+[20,-10]+")").attr("id",(function(r,n){return"a"+t[n].year})).attr("x1",(function(t,r){return l[r]})).attr("y1",(function(){return o/2})).attr("x2",(function(t,r){return l[r]})).attr("y2",(function(t,r){return r%2==0?o:20})).attr("stroke","black").attr("stroke-dasharray","5, 5").attr("opacity","0.5");r.selectAll("rect").data(t).enter().append("circle").attr("transform","translate("+[20,-10]+")").attr("cx",(function(t){return p(t.year)})).attr("cy",(function(){return o/2})).attr("fill",(function(){return function(){n>=9&&(n=0);return d3.schemeSet2[n++]}()})).attr("r","0").on("mouseover",(function(t,r){f.show(t,r),d3.select("#a"+t.year).transition().duration(200).attr("stroke-width",3).attr("opacity",.7)})).on("mouseout",(function(t,r){f.hide(t,r),d3.select("#a"+t.year).transition().duration(200).attr("stroke-width",1).attr("opacity",.5)})).transition().duration(500).attr("r",(function(t,r){return s[r]}));var k=d3.scaleLinear().domain([Math.max(...c),Math.min(...c)]).range([o+(a-o)/2,a-10]),S=r.selectAll("rect").data(t);S.enter().append("line").attr("transform","translate("+[20,-10]+")").attr("x1",(function(t){return p(t.year)})).attr("y1",(function(t){return k(t.points)})).attr("x2",(function(r,n){return n<t.length-1?p(t[n+1].year):p(t[n].year)})).attr("y2",(function(r,n){return n<t.length-1?k(c[n+1]):k(c[n])})).attr("stroke-width","1px").attr("stroke","#525690"),S.enter().append("circle").attr("transform","translate("+[20,-10]+")").attr("cx",(function(t){return p(t.year)})).attr("cy",(function(t){return k(t.points)})).attr("fill",(function(){return"#2627d7"})).attr("r","0").on("mouseover",(function(t,r){d.show(t,r)})).on("mouseout",(function(t,r){d.hide(t,r)})).transition().duration(500).attr("r",(function(t,r){return 4}))}(r)}))}));var n=0}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlcy9qcy9ncm91cC12aXN1YWxpc2F0aW9ucy9idWJibGVzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJwb3N0IiwiZGF0YSIsImZvckVhY2giLCJpbnZhbGlkRWwiLCJpbnZhbGlkSW5kZXgiLCJhcnIiLCJ5ZWFyIiwicGFnZUFtb3VudCIsInNwbGljZSIsInNvcnQiLCJhIiwiYiIsIlBhZ2VDb3VudHNHcm91cGVkQnlZZWFyIiwicGFnZXMiLCJwb2ludHMiLCJlbCIsImxhc3QiLCJsZW5ndGgiLCJwdXNoIiwiJGJ1dHRvbkhvc3QiLCJwYXJlbnQiLCJhcHBlbmQiLCJqc1N0cmluZ3MiLCJtaW5pc3RlcmlhbF9wb2ludHMiLCJzdmciLCJkMyIsInNlbGVjdCIsIndpZHRoIiwicGFyc2VJbnQiLCJzdHlsZSIsInJlcGxhY2UiLCJ0cnVlSGVpZ2h0IiwiaGVpZ2h0Iiwic3VtT2ZQYWdlcyIsInllYXJzIiwibWFwIiwiTWF0aCIsInNxcnQiLCJyYXlzIiwibWluIiwiY2VudHJlcyIsImluZGV4IiwieFNjYWxlIiwic2NhbGVPcmRpbmFsIiwiZG9tYWluIiwicmFuZ2UiLCJidWJibGVUaXAiLCJ0aXAiLCJhdHRyIiwiaHRtbCIsInZpcyIsInBhZ2UiLCJwb2ludEJ1YmJsZVRpcCIsIm1pbmlzdGVyaWFsX3Njb3JlIiwiYm90dG9tWWVhcnMiLCJib3R0b21DZW50cmVzIiwidG9wWWVhcnMiLCJ0b3BDZW50cmVzIiwicG9pbnRZZWFycyIsInBvaW50Q2VudHJlcyIsInhBeGlzVG9wIiwiYXhpc1RvcCIsInRpY2tGb3JtYXQiLCJ4QXhpc0JvdHRvbSIsImF4aXNCb3R0b20iLCJ4QXhpc1BvaW50cyIsInNlbGVjdEFsbCIsImVudGVyIiwiY29sb3JDb3VudGVyIiwic2NoZW1lU2V0MiIsIk5leHRDb2xvciIsIm9uIiwic2hvdyIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImhpZGUiLCJwb2ludEhlaWdodFNjYWxlIiwic2NhbGVMaW5lYXIiLCJtYXgiLCJwb2ludEJ1YmJsZXMiLCJkcmF3QnViYmxlR3JhcGgiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFh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LEtBQUssU0FBVTdFLEVBQUdOLEdBQ3ZCLE9BQU8sS0E5WFBtSCxDQUFnQnBFLFNBb1luQixJQUFJd0QsRUFBZSIsImZpbGUiOiJncm91cC1idWJibGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU1KTtcbiIsInZhciBnRGF0YTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0JC5wb3N0KFwiL2J1YmJsZXNEYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG5cblx0XHRcdHZhciByZW1vdmVkQ291bnRlciAgPSAwO1xuXHRcdFx0ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpbnZhbGlkRWwsIGludmFsaWRJbmRleCwgYXJyKSB7XG5cdFx0XHRcdGlmKCFpbnZhbGlkRWwueWVhciB8fCBpbnZhbGlkRWwucGFnZUFtb3VudCA8IDApIHsvL2NvbnNvbGUubG9nKCdJbnZhbGlkIHJlY29yZDogJyArIGludmFsaWRJbmRleCk7XG5cdFx0XHRcdFx0ZGF0YS5zcGxpY2UoaW52YWxpZEluZGV4ICsgcmVtb3ZlZENvdW50ZXIsIDEpfVxuXHRcdFx0fSk7XG5cblx0XHRcdGRhdGEgPSBkYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdFx0aWYoYS55ZWFyICYmIGIueWVhcikgcmV0dXJuIChhLnllYXIgPiBiLnllYXIpIC0gKGEueWVhciA8IGIueWVhcik7XG5cdFx0XHR9KTtcblx0XHRcdC8vY29uc29sZS5sb2coZGF0YSk7XG5cblx0XHRcdHZhciBQYWdlQ291bnRzR3JvdXBlZEJ5WWVhciA9IFtdO1xuXHRcdFx0UGFnZUNvdW50c0dyb3VwZWRCeVllYXJbMF0gPSB7XG5cdFx0XHRcdHllYXI6IGRhdGFbMF0ueWVhcixcblx0XHRcdFx0cGFnZXM6IDAsXG5cdFx0XHRcdHBvaW50czogMFxuXHRcdFx0fTtcblxuXHRcdFx0ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRpZihlbC5wYWdlQW1vdW50IDwgMCkgZWwucGFnZUFtb3VudCA9IDA7XG5cdFx0XHRcdHZhciBsYXN0ID0gUGFnZUNvdW50c0dyb3VwZWRCeVllYXIubGVuZ3RoIC0gMTtcblx0XHRcdFx0aWYoUGFnZUNvdW50c0dyb3VwZWRCeVllYXJbbGFzdF0ueWVhciA9PT0gZWwueWVhcikge1xuXHRcdFx0XHRcdFBhZ2VDb3VudHNHcm91cGVkQnlZZWFyW2xhc3RdLnBhZ2VzICs9IGVsLnBhZ2VBbW91bnQ7XG5cdFx0XHRcdFx0UGFnZUNvdW50c0dyb3VwZWRCeVllYXJbbGFzdF0ucG9pbnRzICs9IGVsLnBvaW50cztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIFBhZ2VDb3VudHNHcm91cGVkQnlZZWFyLnB1c2goe1xuXHRcdFx0XHRcdHllYXI6IGVsLnllYXIsXG5cdFx0XHRcdFx0cGFnZXM6IGVsLnBhZ2VBbW91bnQsXG5cdFx0XHRcdFx0cG9pbnRzOiBlbC5wb2ludHNcblx0XHRcdFx0fSlcblx0XHRcdH0pO1xuXHRcdFx0Z0RhdGEgPSBkYXRhO1xuXHRcdFx0JGJ1dHRvbkhvc3QgPSAkKCcjZ2VuUGRmQnRuJykucGFyZW50KCk7XG5cdFx0XHQkYnV0dG9uSG9zdC5hcHBlbmQoXCI8YnV0dG9uIGNsYXNzPSdidG4gbGluZS1idG4nIG9uY2xpY2s9J3Nob3dPdmVybGF5V3JhcHBlcigpJz5cIiArIGpzU3RyaW5ncy5taW5pc3RlcmlhbF9wb2ludHMgKyBcIjwvYnV0dG9uPlwiKVxuXHRcdFx0ZHJhd0J1YmJsZUdyYXBoKFBhZ2VDb3VudHNHcm91cGVkQnlZZWFyKVxuXHRcdH1cblxuXHQpfSk7XG5mdW5jdGlvbiBzaG93T3ZlcmxheVdyYXBwZXIoKSB7XG5cdHNob3dPdmVybGF5KGdEYXRhKVxufVxuZnVuY3Rpb24gY2xvc2VPdmVybGF5KCl7XG5cdGNvbnNvbGUubG9nKCdjbG9zaW5nJylcblx0JCgnLmJsdXInKS5yZW1vdmUoKVxufVxuZnVuY3Rpb24gc2hvd092ZXJsYXkod29ya3MpIHtcblx0dmFyIG92ZXJsYXkgPSAkKCcnICtcblx0XHQnPGRpdiBjbGFzcz1cImJsdXJcIj4nICtcblx0XHQnICAgPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj4gJyArXG5cdFx0JyAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGUtYmFyXCI+JyArXG5cdFx0JyAgICAgICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPicgKyBqc1N0cmluZ3MubWluaXN0ZXJpYWxfcG9pbnRzICsgJzwvcD4nICtcblx0XHQnICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uY2xpY2s9XCJjbG9zZU92ZXJsYXkoKVwiPjxpIGNsYXNzPVwiY2xvc2UtYnRuIGZhIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT4nICtcblx0XHQnXHQgICAgICAgIDxpbnB1dCBpZD1cIm1pbmlzdGVyaWFsLXNsaWRlclwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCI1MFwiIHN0ZXA9XCIxXCIgLz4nICtcblx0XHQnICAgICAgICAgICA8cCBpZD1cIm1pbmlzdGVyaWFsLWRpc3BsYXlcIj4yNTwvcD4nICtcblx0XHQnICAgICAgICAgICA8cCBpZD1cIm1pbmlzdGVyaWFsLWxhYmVsXCI+JyArIGpzU3RyaW5ncy5wb2ludF90aHJlc2hvbGQgKyAnPC9wPicgK1xuXHRcdCcgICAgICAgPC9kaXY+JyArXG5cdFx0JyAgICAgICA8c3ZnIGlkPVwib3ZlcmxheS1zdmctcG9ydFwiPjwvc3ZnPicgK1xuXHRcdCcgICA8L2Rpdj4nICtcblx0XHQnPC9kaXY+Jyk7XG5cdG92ZXJsYXkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSlcblxuXHR2YXIgc2xpZGVyID0gJCgnI21pbmlzdGVyaWFsLXNsaWRlcicpO1xuXHR2YXIgZGlzcGxheSA9ICQoJyNtaW5pc3RlcmlhbC1kaXNwbGF5Jyk7XG5cdHZhciBwb3J0ID0gJCgnI292ZXJsYXktc3ZnLXBvcnQnKVxuXG5cdERyYXdQb2ludHMod29ya3MsIHNsaWRlci52YWwoKSwgcG9ydC53aWR0aCgpLCBwb3J0LmhlaWdodCgpKVxuXG5cdHNsaWRlci5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0ZGlzcGxheS50ZXh0KHNsaWRlci52YWwoKSlcblx0XHRjbGVhckRpc3BsYXkoKVxuXHRcdERyYXdQb2ludHMod29ya3MsIHNsaWRlci52YWwoKSwgcG9ydC53aWR0aCgpLCBwb3J0LmhlaWdodCgpKVxuXHR9KVxuXG59XG5mdW5jdGlvbiB0b0RhdGUoeWVhcil7XG5cdHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCAxKVxufVxuZnVuY3Rpb24gRHJhd1BvaW50cyh3b3JrcywgdGhyZXNob2xkLCBwb3J0V2lkdGgsIHBvcnRIZWlnaHQpIHtcblx0d29ya3MgPSB3b3Jrcy5maWx0ZXIoZnVuY3Rpb24gKHcpIHtcblx0XHRyZXR1cm4gdy5taW5pc3RlcmlhbEFydGljbGVcblx0fSlcblx0dmFyIHllYXJSYW5nZSA9IGdldFllYXJSYW5nZSh3b3Jrcyk7XG5cdHZhciBmaWx0ZXJlZFdvcmtzID0gZmlsdGVyQnlNaW5pc3RlcmlhbCh3b3JrcywgTnVtYmVyLnBhcnNlSW50KHRocmVzaG9sZCkpO1xuXHR2YXIgeWVhck5vZGVzID0gZ3JvdXBCeVllYXIoeWVhclJhbmdlLCBmaWx0ZXJlZFdvcmtzKTtcblx0dmFyIHNjb3JlUmFuZ2UgPSBnZXRTY29yZVJhbmdlKHllYXJOb2Rlcyk7XG5cblx0dmFyIHN2ZyA9IGQzLnNlbGVjdCgnI292ZXJsYXktc3ZnLXBvcnQnKTtcblxuXHR2YXIgYXhpc1BhZGRpbmcgPSAyNSwgYmFyUGFkZGluZyA9IDEwO1xuXG5cdGNvbnNvbGUubG9nKHllYXJSYW5nZSlcblxuXHR2YXIgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuXHRcdC5kb21haW4oeWVhclJhbmdlLm1hcCh0b0RhdGUpKVxuXHRcdC5yYW5nZShbYXhpc1BhZGRpbmcgKyBiYXJQYWRkaW5nLCBwb3J0V2lkdGggLSBheGlzUGFkZGluZ10pO1xuXG5cdHhTY2FsZSgxOTkwKVxuXHR2YXIgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuXHRcdC5kb21haW4oc2NvcmVSYW5nZSlcblx0XHQucmFuZ2UoW2F4aXNQYWRkaW5nLHBvcnRIZWlnaHQgLSBheGlzUGFkZGluZ10ucmV2ZXJzZSgpKTtcblxuXHR5U2NhbGUoMjApO1xuXG5cdHZhciBvdmVybGF5TGluZXMgPSBzdmcuYXBwZW5kKCdnJykuc2VsZWN0QWxsKCdsaW5lJykuZGF0YSh5ZWFyTm9kZXMpO1xuXHR2YXIgb3ZlcmxheUJhcnMgPSBzdmcuYXBwZW5kKCdnJykuc2VsZWN0QWxsKCdyZWN0JykuZGF0YSh5ZWFyTm9kZXMpO1xuXG5cdGNvbnNvbGUubG9nKHllYXJOb2RlcylcblxuXHR2YXIgcmVjdFdpZHRoID0gcG9ydFdpZHRoIC8gKHllYXJSYW5nZVsxXSAtIHllYXJSYW5nZVswXSkgLSBiYXJQYWRkaW5nO1xuXG5cdGNvbnNvbGUubG9nKHlTY2FsZSgwKSlcblx0Y29uc29sZS5sb2coeVNjYWxlKDEwKSlcblx0b3ZlcmxheUJhcnMuZW50ZXIoKVxuXHRcdC5hcHBlbmQoJ3JlY3QnKVxuXHRcdC8vIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBbMjAsIC0xMF0gKyAnKScpXG5cdFx0LmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIHhTY2FsZSh0b0RhdGUoZC55ZWFyKSkgLSByZWN0V2lkdGgvMjtcblx0XHR9KVxuXHRcdC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiB5U2NhbGUoZC5wb2ludHMpO1xuXHRcdH0pXG5cdFx0LmF0dHIoJ3dpZHRoJywgcmVjdFdpZHRoKVxuXHRcdC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIHBvcnRIZWlnaHQgLSB5U2NhbGUoZC5wb2ludHMpIC0gYXhpc1BhZGRpbmdcblxuXHRcdH0pXG5cdFx0LmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gJyMyNjI3ZDcnXG5cdFx0fSlcblx0XHQvLyAuYXR0cigncicsICcwJylcblx0XHQvLyAudHJhbnNpdGlvbigpXG5cdFx0Ly8gLmR1cmF0aW9uKDUwMClcblx0XHQuYXR0cigncicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRyZXR1cm4gNjtcblx0XHR9KVxuXHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdG92ZXJsYXlUaXAuc2hvdyhkLCBpKTtcblx0XHR9KVxuXHRcdC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0b3ZlcmxheVRpcC5oaWRlKGQsIGkpO1xuXHRcdH0pO1xuXG5cdHZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oKS5zY2FsZSh4U2NhbGUpLnRpY2tGb3JtYXQoZDMudGltZUZvcm1hdCgnJVknKSk7XG5cdHZhciB5QXhpcyA9IGQzLmF4aXNMZWZ0KCkuc2NhbGUoeVNjYWxlKTtcblxuXHRzdmcuYXBwZW5kKCdnJykuY2FsbCh4QXhpcylcblx0XHQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgWzAsIHBvcnRIZWlnaHQgLSBheGlzUGFkZGluZ10gKyAnKScpXG5cdHN2Zy5hcHBlbmQoJ2cnKS5jYWxsKHlBeGlzKVxuXHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBbYXhpc1BhZGRpbmcsIDBdICsgJyknKVxuXG5cdHZhciBvdmVybGF5VGlwID0gZDMudGlwKCkuYXR0cignY2xhc3MnLCAnZDMtdGlwJykuaHRtbChmdW5jdGlvbihkLCBpKSB7XG5cdFx0cmV0dXJuIGpzU3RyaW5ncy52aXMueWVhcltcIjFcIl0gKyBcIjogXCIgKyB5ZWFyTm9kZXNbaV0ueWVhciArICc8YnI+JyArIHllYXJOb2Rlc1tpXS50aXRsZXMuam9pbihcIjxicj5cIikgfSk7XG5cdHN2Zy5jYWxsKG92ZXJsYXlUaXApO1xuXG5cbn1cblxuZnVuY3Rpb24gY2xlYXJEaXNwbGF5KCkge1xuXHRkMy5zZWxlY3QoJyNvdmVybGF5LXN2Zy1wb3J0Jykuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGdldFllYXJSYW5nZSh3b3Jrcykge1xuXHRpZih3b3Jrcy5sZW5ndGggPT09IDApIHJldHVybiBbMCwgMF07XG5cdHZhciBtaW4gPSB3b3Jrc1swXS55ZWFyLCBtYXggPSB3b3Jrc1swXS55ZWFyO1xuXG5cdHdvcmtzLmZvckVhY2goZnVuY3Rpb24gKHdvcmspIHtcblx0XHRpZih3b3JrLnllYXIgPCBtaW4pIG1pbiA9IHdvcmsueWVhcjtcblx0XHRpZih3b3JrLnllYXIgPiBtYXgpIG1heCA9IHdvcmsueWVhcjtcblx0fSk7XG5cblx0cmV0dXJuIFttaW4sIG1heF1cbn1cbmZ1bmN0aW9uIGZpbHRlckJ5TWluaXN0ZXJpYWwod29ya3MsIHRocmVzaG9sZCkge1xuXHRyZXR1cm4gd29ya3MuZmlsdGVyKGZ1bmN0aW9uICh3b3JrKSB7XG5cdFx0cmV0dXJuIHdvcmsucG9pbnRzID49IHRocmVzaG9sZFxuXHR9KVxufVxuZnVuY3Rpb24gZ3JvdXBCeVllYXIoeWVhclJhbmdlLCB3b3Jrcykge1xuXHR2YXIgeWVhcnMgPSBbXSwgd0lkeCA9IDA7XG5cdGZvciAodmFyIHllYXIgPSB5ZWFyUmFuZ2VbMF07IHllYXIgPCB5ZWFyUmFuZ2VbMV07IHllYXIrKykge1xuXHRcdHZhciBncm91cGVkUG9pbnRzID0gMCxcblx0XHRcdGdyb3VwZWRUaXRsZXMgPSBbXTtcblx0XHR3aGlsZSh3b3Jrc1t3SWR4XSAmJiB3b3Jrc1t3SWR4XS55ZWFyID09PSB5ZWFyKSB7XG5cdFx0XHRncm91cGVkUG9pbnRzICs9IHdvcmtzW3dJZHhdLnBvaW50cztcblx0XHRcdGdyb3VwZWRUaXRsZXMucHVzaCh3b3Jrc1t3SWR4XS50aXRsZSk7XG5cdFx0XHR3SWR4Kys7XG5cblx0XHR9XG5cblx0XHR5ZWFycy5wdXNoKHtcblx0XHRcdHllYXI6IHllYXIsXG5cdFx0XHRwb2ludHM6IGdyb3VwZWRQb2ludHMsXG5cdFx0XHR0aXRsZXM6IGdyb3VwZWRUaXRsZXNcblx0XHR9KVxuXHR9XG5cblx0cmV0dXJuIHllYXJzXG59XG5cbmZ1bmN0aW9uIGdldFNjb3JlUmFuZ2Uod29ya3MpIHtcblx0aWYod29ya3MubGVuZ3RoID09PSAwKSByZXR1cm4gWzAsIDBdO1xuXHR2YXIgbWluID0gMCwgbWF4ID0gMTA7XG5cblx0d29ya3MuZm9yRWFjaChmdW5jdGlvbiAod29yaykge1xuXHRcdGlmKHdvcmsucG9pbnRzIDwgbWluKSBtaW4gPSB3b3JrLnBvaW50cztcblx0XHRpZih3b3JrLnBvaW50cyA+IG1heCkgbWF4ID0gd29yay5wb2ludHM7XG5cdH0pO1xuXG5cdHJldHVybiBbbWluLCBtYXhdXG59XG5mdW5jdGlvbiBkcmF3QnViYmxlR3JhcGgoZGF0YSkge1xuXG5cdHZhciBzdmcgPSBkMy5zZWxlY3QoJyNzdmctcG9ydCcpO1xuXG5cdHZhciB3aWR0aCA9IHBhcnNlSW50KHN2Zy5zdHlsZSgnd2lkdGgnKS5yZXBsYWNlKCdweCcsICcnKSkgLSA5Njtcblx0dmFyIHRydWVIZWlnaHQgPSBwYXJzZUludChzdmcuc3R5bGUoJ2hlaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKTtcblx0dmFyIGhlaWdodCA9IDAuODUgKiB0cnVlSGVpZ2h0O1xuXG5cblx0dmFyIHN1bU9mUGFnZXMgPSAwO1xuXHR2YXIgc3VtT2ZQb2ludHMgPSAwO1xuXHR2YXIgeWVhcnMgPSBkYXRhLm1hcChmdW5jdGlvbiAoZWwpIHtcblx0XHRzdW1PZlBhZ2VzICs9IE1hdGguc3FydChlbC5wYWdlcyk7XG5cdFx0c3VtT2ZQb2ludHMgKz0gTWF0aC5zcXJ0KGVsLnBvaW50cyk7XG5cdFx0cmV0dXJuIGVsLnllYXI7XG5cdH0pO1xuXG5cdHZhciByYXlzID0gW107XG5cdGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcblx0XHRyYXlzLnB1c2goKE1hdGguc3FydChlbC5wYWdlcykgLyBzdW1PZlBhZ2VzKSAqIE1hdGgubWluKHdpZHRoLCBoZWlnaHQpICogMC44KTtcblx0fSk7XG5cdC8vIGNvbnNvbGUubG9nKHJheXMpXG5cblx0dmFyIHBvaW50cyA9IFtdO1xuXHRkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0cG9pbnRzLnB1c2goZWwucG9pbnRzKVxuXHR9KVxuXG5cdHZhciBjZW50cmVzID0gW107XG5cdHJheXMuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7XG5cdFx0Y2VudHJlcy5wdXNoKDApO1xuXG5cdFx0dmFyIGkgPSAwO1xuXHRcdHdoaWxlIChpPGluZGV4KSB7XG5cdFx0XHRjZW50cmVzW2NlbnRyZXMubGVuZ3RoIC0gMV0gKz0gcmF5c1tpXSoyO1xuXHRcdFx0aSsrXG5cdFx0fVxuXHRcdGNlbnRyZXNbY2VudHJlcy5sZW5ndGggLSAxXSArPSBlbDtcblx0fSk7XG5cblxuXHR2YXIgeFNjYWxlID0gZDMuc2NhbGVPcmRpbmFsKClcblx0XHQuZG9tYWluKHllYXJzKVxuXHRcdC5yYW5nZShjZW50cmVzKTtcblxuXHR2YXIgYnViYmxlVGlwID0gZDMudGlwKCkuYXR0cignY2xhc3MnLCAnZDMtdGlwJykuaHRtbChmdW5jdGlvbihkLCBpKSB7XG5cdFx0cmV0dXJuIGpzU3RyaW5ncy52aXMueWVhcltcIjFcIl0gKyBcIjogXCIgKyB5ZWFyc1tpXSArICc8YnI+JyArIGpzU3RyaW5ncy52aXMucGFnZVtcIm1hbnlcIl0gKyBcIjogXCIgKyBkYXRhW2ldLnBhZ2VzIH0pO1xuXHRzdmcuY2FsbChidWJibGVUaXApO1xuXG5cdHZhciBwb2ludEJ1YmJsZVRpcCA9IGQzLnRpcCgpLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpLmh0bWwoZnVuY3Rpb24oZCwgaSkge1xuXHRcdHJldHVybiBqc1N0cmluZ3MudmlzLnllYXJbXCIxXCJdICsgXCI6IFwiICsgeWVhcnNbaV0gKyAnPGJyPicgKyBqc1N0cmluZ3MudmlzLm1pbmlzdGVyaWFsX3Njb3JlICsgXCI6IFwiICsgZGF0YVtpXS5wb2ludHMgfSk7XG5cdHN2Zy5jYWxsKHBvaW50QnViYmxlVGlwKTtcblxuXG5cdC8vL0RyYXdpbmcgdGhlIGF4ZXNcblx0dmFyIGJvdHRvbVllYXJzPVtdLCBib3R0b21DZW50cmVzPVtdO1xuXHR2YXIgdG9wWWVhcnM9W10sIHRvcENlbnRyZXM9W107XG5cdHZhciBwb2ludFllYXJzID0gW10sIHBvaW50Q2VudHJlcyA9IFtdO1xuXG5cblx0Ly8gY29uc29sZS5sb2coeWVhcnMpO1xuXHQvLyBjb25zb2xlLmxvZyhjZW50cmVzKVxuXHR5ZWFycy5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHtcblxuXHRcdHBvaW50WWVhcnMucHVzaCh5ZWFyc1tpbmRleF0pO1xuXHRcdHBvaW50Q2VudHJlcy5wdXNoKGNlbnRyZXNbaW5kZXhdKTtcblxuXHRcdGlmKGluZGV4JTIgPT09IDApIHtcblx0XHRcdGJvdHRvbVllYXJzLnB1c2goZWwpO1xuXHRcdFx0Ym90dG9tQ2VudHJlcy5wdXNoKGNlbnRyZXNbaW5kZXhdKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0b3BZZWFycy5wdXNoKGVsKTtcblx0XHRcdHRvcENlbnRyZXMucHVzaChjZW50cmVzW2luZGV4XSk7XG5cdFx0fVxuXHR9KTtcblxuXHR2YXIgeEF4aXNUb3AgPSBkMy5heGlzVG9wKGQzLnNjYWxlT3JkaW5hbCgpLnJhbmdlKHRvcENlbnRyZXMpLmRvbWFpbih0b3BZZWFycykpLnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRpZih0b3BDZW50cmVzW2ldIC0gdG9wQ2VudHJlc1tpLTFdIDwgMTIpIHJldHVybiBcIlwiO1xuXHRcdHJldHVybiBkO1xuXHR9KTtcblx0dmFyIHhBeGlzQm90dG9tID0gZDMuYXhpc0JvdHRvbShkMy5zY2FsZU9yZGluYWwoKS5yYW5nZShib3R0b21DZW50cmVzKS5kb21haW4oYm90dG9tWWVhcnMpKS50aWNrRm9ybWF0KGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0aWYoYm90dG9tQ2VudHJlc1tpXSAtIGJvdHRvbUNlbnRyZXNbaS0xXSA8IDEwKSByZXR1cm4gXCJcIjtcblx0XHRyZXR1cm4gZDtcblx0fSk7XG5cdHZhciB4QXhpc1BvaW50cyA9IGQzLmF4aXNCb3R0b20oZDMuc2NhbGVPcmRpbmFsKCkucmFuZ2UocG9pbnRDZW50cmVzKS5kb21haW4ocG9pbnRZZWFycykpLnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRpZihwb2ludENlbnRyZXNbaV0gLSBwb2ludENlbnRyZXNbaS0xXSA8IDEwKSByZXR1cm4gXCJcIjtcblx0XHRyZXR1cm4gZDtcblx0fSk7XG5cblx0dmFyIGF4aXNHcm91cFRvcCA9IHN2Zy5hcHBlbmQoJ2cnKS5jYWxsKHhBeGlzVG9wKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBbMjAsIDIwIF0gKyAnKScpO1xuXHR2YXIgYXhpc0dyb3VwQm90dG9tID0gc3ZnLmFwcGVuZCgnZycpLmNhbGwoeEF4aXNCb3R0b20pLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIFsyMCwgaGVpZ2h0IC0yMCBdICsgJyknKTtcblx0dmFyIGF4aXNHcm91cFBvaW50cyA9IHN2Zy5hcHBlbmQoJ2cnKS5jYWxsKHhBeGlzUG9pbnRzKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBbMjAsIHRydWVIZWlnaHQgLSAyMF0gKyAnKScpO1xuXG5cblx0Ly8vRHJhd2luZyB0aGUgZ3VpZGVsaW5lc1xuXHR2YXIgbGluZXMgPSBzdmcuYXBwZW5kKCdnJylcblx0XHQuc2VsZWN0QWxsKCdsaW5lJylcblx0XHQuZGF0YShjZW50cmVzKVxuXHRcdC5lbnRlcigpXG5cdFx0LmFwcGVuZCgnbGluZScpXG5cdFx0LmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIFsyMCwgLTEwXSArICcpJylcblx0XHQuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0cmV0dXJuICdhJyArIGRhdGFbaV0ueWVhcjtcblx0XHR9KVxuXHRcdC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRyZXR1cm4gY2VudHJlc1tpXSB9KVxuXHRcdC5hdHRyKCd5MScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBoZWlnaHQvMjsgfSlcblx0XHQuYXR0cigneDInLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0cmV0dXJuIGNlbnRyZXNbaV19KVxuXHRcdC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRpZihpICUgMiA9PT0gMCkgcmV0dXJuIGhlaWdodDtcblx0XHRcdGVsc2UgcmV0dXJuIDIwIH0pXG5cdFx0LmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG5cdFx0LmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAnNSwgNScpXG5cdFx0LmF0dHIoJ29wYWNpdHknLCAnMC41Jyk7XG5cblx0Ly8vRHJhd2luZyBidWJibGVzXG5cdHZhciBidWJibGVzID0gc3ZnXG5cdFx0LnNlbGVjdEFsbCgncmVjdCcpXG5cdFx0LmRhdGEoZGF0YSk7XG5cdGJ1YmJsZXMuZW50ZXIoKVxuXHRcdC5hcHBlbmQoJ2NpcmNsZScpXG5cdFx0LmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIFsyMCwgLTEwXSArICcpJylcblx0XHQuYXR0cignY3gnLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIHhTY2FsZShkLnllYXIpO1xuXHRcdH0pXG5cdFx0LmF0dHIoJ2N5JywgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGhlaWdodCAvIDI7XG5cdFx0fSlcblx0XHQuYXR0cignZmlsbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBOZXh0Q29sb3IoKVxuXHRcdH0pXG5cdFx0LmF0dHIoJ3InLCAnMCcpXG5cdFx0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0YnViYmxlVGlwLnNob3coZCwgaSk7XG5cdFx0XHRkMy5zZWxlY3QoXCIjYVwiICsgZC55ZWFyKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKS5hdHRyKCdzdHJva2Utd2lkdGgnLCAzKS5hdHRyKCdvcGFjaXR5JywgMC43KVxuXHRcdH0pXG5cdFx0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRidWJibGVUaXAuaGlkZShkLCBpKTtcblx0XHRcdGQzLnNlbGVjdChcIiNhXCIgKyBkLnllYXIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEpLmF0dHIoJ29wYWNpdHknLCAwLjUpXG5cdFx0fSlcblx0XHQudHJhbnNpdGlvbigpXG5cdFx0LmR1cmF0aW9uKDUwMClcblx0XHQuYXR0cigncicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRyZXR1cm4gcmF5c1tpXTtcblx0XHR9KVxuXG5cdC8vL0RyYXdpbmcgdGhlIHBvaW50IGJ1YmJsZXNcblxuXHR2YXIgcG9pbnRIZWlnaHRTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcblx0XHQuZG9tYWluKFtNYXRoLm1heCguLi5wb2ludHMpLCBNYXRoLm1pbiguLi5wb2ludHMpXSlcblx0XHQucmFuZ2UoW2hlaWdodCArICggKHRydWVIZWlnaHQgLSBoZWlnaHQpIC8gMiksIHRydWVIZWlnaHQgLSAxMF0pO1xuXG5cdHZhciBwb2ludEJ1YmJsZXMgPSBzdmdcblx0XHQuc2VsZWN0QWxsKCdyZWN0Jylcblx0XHQuZGF0YShkYXRhKTtcblxuXG5cblx0cG9pbnRCdWJibGVzLmVudGVyKClcblx0XHQuYXBwZW5kKCdsaW5lJylcblx0XHQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgWzIwLCAtMTBdICsgJyknKVxuXHRcdC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4geFNjYWxlKGQueWVhcilcblx0XHR9KVxuXHRcdC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gcG9pbnRIZWlnaHRTY2FsZShkLnBvaW50cylcblx0XHR9KVxuXHRcdC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRpZihpIDwgZGF0YS5sZW5ndGggLSAxKVxuXHRcdFx0XHRyZXR1cm4geFNjYWxlKGRhdGFbaSsxXS55ZWFyKVxuXHRcdFx0ZWxzZSByZXR1cm4geFNjYWxlKGRhdGFbaV0ueWVhcik7XG5cdFx0fSlcblxuXHRcdC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKHBvaW50c1tpKzFdKTtcblx0XHRcdGlmKGkgPCBkYXRhLmxlbmd0aCAtIDEpIHJldHVybiBwb2ludEhlaWdodFNjYWxlKHBvaW50c1tpKzFdKVxuXHRcdFx0ZWxzZSByZXR1cm4gcG9pbnRIZWlnaHRTY2FsZShwb2ludHNbaV0pO1xuXHRcdH0pXG5cdFx0LmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKVxuXHRcdC5hdHRyKCdzdHJva2UnLCAnIzUyNTY5MCcpXG5cblx0cG9pbnRCdWJibGVzLmVudGVyKClcblx0XHQuYXBwZW5kKCdjaXJjbGUnKVxuXHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBbMjAsIC0xMF0gKyAnKScpXG5cdFx0LmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiB4U2NhbGUoZC55ZWFyKTtcblx0XHR9KVxuXHRcdC5hdHRyKCdjeScsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gcG9pbnRIZWlnaHRTY2FsZShkLnBvaW50cyk7XG5cdFx0fSlcblx0XHQuYXR0cignZmlsbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAnIzI2MjdkNydcblx0XHR9KVxuXHRcdC5hdHRyKCdyJywgJzAnKVxuXHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdHBvaW50QnViYmxlVGlwLnNob3coZCwgaSk7XG5cdFx0fSlcblx0XHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdHBvaW50QnViYmxlVGlwLmhpZGUoZCwgaSk7XG5cdFx0fSlcblx0XHQudHJhbnNpdGlvbigpXG5cdFx0LmR1cmF0aW9uKDUwMClcblx0XHQuYXR0cigncicsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRyZXR1cm4gNDtcblx0XHR9KTtcblxuXG59XG5cbnZhciBjb2xvckNvdW50ZXIgPSAwO1xuZnVuY3Rpb24gTmV4dENvbG9yKCkge1xuXHRpZiAoY29sb3JDb3VudGVyID49IDkpIGNvbG9yQ291bnRlciA9IDA7XG5cdHJldHVybiBkMy5zY2hlbWVTZXQyW2NvbG9yQ291bnRlcisrXTtcbn1cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=